<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <title>Word Validation Task</title>

  <script src="https://unpkg.com/jspsych@7.3.0"></script>
  <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response"></script>
  <link href="https://unpkg.com/jspsych@7.3.0/css/jspsych.css" rel="stylesheet" />

  <style>
    body {
      background-color: black;
      color: white;
      font-size: 40px;
    }
  </style>
</head>
<body></body>

<script>
var social_words = [
  {word: "เป็นมิตร", cat: "ชอบเข้าสังคม"},
  {word: "เก็บตัว", cat: "ไม่ชอบเข้าสังคม"}
];

var instruction = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <p>ถ้าคำหมายถึง <b>ชอบเข้าสังคม</b> กด A</p>
    <p>ถ้าคำหมายถึง <b>ไม่ชอบเข้าสังคม</b> กด L</p>
    <p>กด SPACE เพื่อเริ่ม</p>
  `,
  choices: [" "]
};

var trials = {
  timeline: [{
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
      return `<div style="font-size:60px;">${jsPsych.timelineVariable('word')}</div>`;
    },
    choices: ['a','l'],
    data: {
      cat: jsPsych.timelineVariable('cat'),
      word: jsPsych.timelineVariable('word')
    }
  }],
  timeline_variables: social_words,
  randomize_order: true
};

jsPsych.init({
  timeline: [instruction, trials],
  on_finish: function(){
    jsPsych.data.get().localSave('csv','data.csv');
  }
});
</script>
</html>